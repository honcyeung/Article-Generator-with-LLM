<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Content Generation Pipeline</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Using Inter as the default font */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        /* Vertical timeline connector */
        .timeline-container {
            position: relative;
        }
        .timeline-container::before {
            content: '';
            position: absolute;
            top: 1rem;
            left: 2rem;
            bottom: 1rem;
            width: 4px;
            background-color: #e5e7eb; /* gray-200 */
            border-radius: 2px;
            transform: translateX(-50%);
        }
        .timeline-step .icon-container {
            transition: all 0.3s ease;
            z-index: 1;
        }
        .timeline-step.active .icon-container {
            transform: scale(1.1);
            box-shadow: 0 0 0 4px white, 0 0 0 8px #3b82f6; /* blue-500 */
        }
        /* Smooth transition for detail panels */
        .detail-panel {
            transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out, padding 0.5s ease-in-out, margin 0.5s ease-in-out;
            max-height: 0;
            opacity: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            overflow: hidden;
        }
        .detail-panel.active {
            max-height: 500px; /* Adjust as needed */
            opacity: 1;
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-4xl my-12 p-8">
        <header class="text-center mb-16">
            <h1 class="text-5xl font-bold text-gray-800">AI Content Pipeline</h1>
            <p class="text-xl text-gray-500 mt-3">From a simple idea to a published article, fully automated.</p>
        </header>

        <!-- Vertical Timeline Visualization -->
        <div class="timeline-container">
            <!-- Step 1 -->
            <div class="step-wrapper mb-8">
                <div id="step-1" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(1)">
                    <div class="icon-container w-16 h-16 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-scroll text-2xl text-blue-500"></i>
                    </div>
                    <h3 class="text-2xl font-semibold">Prompt Retrieval</h3>
                </div>
                <div id="detail-1" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-600 text-justify">The process begins by fetching a carefully crafted prompt from an external API (PromptLayer). This prompt acts as the creative brief for the AI, defining the tone, style, and structure of the desired article. Storing the prompt externally allows for easy updates without altering the core application code.</p>
                    <div class="mt-4 text-sm text-gray-500"><strong>Technology:</strong> Python `requests`, PromptLayer API</div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="step-wrapper mb-8">
                <div id="step-2" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(2)">
                    <div class="icon-container w-16 h-16 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-magic-wand-sparkles text-2xl text-purple-500"></i>
                    </div>
                    <h3 class="text-2xl font-semibold">Article Generation</h3>
                </div>
                <div id="detail-2" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-600 text-justify">With the prompt in hand, the script communicates with the Google Gemini API. The Large Language Model interprets the instructions and generates a complete, high-quality article in Markdown format. This step is where the core creative work happens, turning a simple idea into a full-fledged piece of content.</p>
                    <div class="mt-4 text-sm text-gray-500"><strong>Technology:</strong> Google Gemini API, Python `requests`</div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="step-wrapper mb-8">
                <div id="step-3" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(3)">
                    <div class="icon-container w-16 h-16 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-tags text-2xl text-green-500"></i>
                    </div>
                    <h3 class="text-2xl font-semibold">SEO Metadata</h3>
                </div>
                <div id="detail-3" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-600 text-justify">A well-written article needs to be discoverable. The generated text is sent back to the Gemini API with a second, more specific prompt, asking for an SEO-friendly description and relevant tags. The AI returns this data in a structured JSON format for easy processing.</p>
                    <div class="mt-4 text-sm text-gray-500"><strong>Technology:</strong> Google Gemini API (JSON Mode), Python `json`</div>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="step-wrapper mb-8">
                <div id="step-4" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(4)">
                    <div class="icon-container w-16 h-16 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-puzzle-piece text-2xl text-yellow-500"></i>
                    </div>
                    <h3 class="text-2xl font-semibold">File Assembly</h3>
                </div>
                <div id="detail-4" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-600 text-justify">The script assembles the final, publish-ready file. It takes the SEO metadata (title, description, tags) and formats it into a YAML "frontmatter" blockâ€”a standard for static site generators. This block is then prepended to the Markdown article content, creating a single, complete `.md` file.</p>
                    <div class="mt-4 text-sm text-gray-500"><strong>Technology:</strong> Python `PyYAML`, File I/O</div>
                </div>
            </div>

            <!-- Step 5 -->
            <div class="step-wrapper">
                <div id="step-5" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(5)">
                    <div class="icon-container w-16 h-16 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-rocket text-2xl text-red-500"></i>
                    </div>
                    <h3 class="text-2xl font-semibold">Publishing</h3>
                </div>
                <div id="detail-5" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-600 text-justify">The final step is fully automated deployment. The script places the newly created Markdown file into a local Git repository that powers a Hugo website. It then programmatically runs `git add`, `git commit`, and `git push`. This push automatically triggers a build and deployment process on a hosting platform like Vercel, making the new article live on the web.</p>
                    <div class="mt-4 text-sm text-gray-500"><strong>Technology:</strong> Python `subprocess`, Git, Hugo, Vercel</div>
                </div>
            </div>
        </div>
        
        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500">This interactive diagram demonstrates a modern, end-to-end content automation workflow.</p>
            <p class="mt-1">Explore the full source code on <a href="https://github.com/honcyeung/article-generator-with-llm" target="_blank" class="text-blue-600 hover:underline">GitHub</a>.</p>
        </footer>
    </div>

    <script>
        // This function toggles the detail panel for the selected step.
        function toggleDetails(stepNumber) {
            const targetPanel = document.getElementById('detail-' + stepNumber);
            const targetStep = document.getElementById('step-' + stepNumber);
            const isActive = targetPanel.classList.contains('active');

            // Hide all detail panels and remove active state from all steps
            document.querySelectorAll('.detail-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.querySelectorAll('.timeline-step').forEach(step => {
                step.classList.remove('active');
            });

            // If the clicked panel was not already active, open it.
            if (!isActive) {
                targetPanel.classList.add('active');
                targetStep.classList.add('active');
            }
        }

        // Initially show the first step's details
        document.addEventListener('DOMContentLoaded', () => {
            toggleDetails(1);
        });
    </script>

</body>
</html>
