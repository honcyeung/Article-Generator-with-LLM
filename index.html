<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Content Generation Pipeline</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Using Inter as the default font */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        /* Vertical timeline connector */
        .timeline-container {
            position: relative;
        }
        .timeline-container::before {
            content: '';
            position: absolute;
            top: 1.25rem;
            left: 2.5rem; /* Centered for w-20 icons */
            bottom: 1.25rem;
            width: 4px;
            background-color: #e5e7eb; /* gray-200 */
            border-radius: 2px;
            transform: translateX(-50%);
        }
        .timeline-step .icon-container {
            transition: all 0.3s ease;
            z-index: 1;
        }
        .timeline-step.active .icon-container {
            transform: scale(1.1);
            box-shadow: 0 0 0 4px white, 0 0 0 8px #3b82f6; /* blue-500 */
        }
        /* Smooth transition for detail panels */
        .detail-panel {
            transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out, padding 0.5s ease-in-out, margin 0.5s ease-in-out;
            max-height: 0;
            opacity: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            overflow: hidden;
        }
        .detail-panel.active {
            max-height: 500px; /* Adjust as needed */
            opacity: 1;
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-4xl my-12 p-8">
        <header class="text-center mb-16">
            <h1 class="text-5xl font-bold text-gray-800">AI Content Pipeline</h1>
            <p class="text-xl text-gray-500 mt-3">From a simple idea to a published article, fully automated.</p>
        </header>

        <!-- Vertical Timeline Visualization -->
        <div class="timeline-container">
            <!-- Step 1 -->
            <div class="step-wrapper mb-8">
                <div id="step-1" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(1)">
                    <div class="icon-container w-20 h-20 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-scroll text-3xl text-blue-500"></i>
                    </div>
                    <h3 class="text-3xl font-semibold">Prompt Retrieval</h3>
                </div>
                <div id="detail-1" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-700 text-xl text-justify">Fetches a dynamic, pre-engineered prompt from an external API. This acts as the creative brief for the AI and can be updated without changing the application code.</p>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="step-wrapper mb-8">
                <div id="step-2" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(2)">
                    <div class="icon-container w-20 h-20 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-magic-wand-sparkles text-3xl text-purple-500"></i>
                    </div>
                    <h3 class="text-3xl font-semibold">Article Generation</h3>
                </div>
                <div id="detail-2" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-700 text-xl text-justify">Sends the prompt to the Google Gemini API, which interprets the instructions and generates a complete, high-quality article in Markdown format.</p>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="step-wrapper mb-8">
                <div id="step-3" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(3)">
                    <div class="icon-container w-20 h-20 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-tags text-3xl text-green-500"></i>
                    </div>
                    <h3 class="text-3xl font-semibold">SEO Metadata</h3>
                </div>
                <div id="detail-3" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-700 text-xl text-justify">The generated article is sent back to the Gemini API, which extracts key information and returns an SEO-friendly description and relevant tags as structured JSON data.</p>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="step-wrapper mb-8">
                <div id="step-4" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(4)">
                    <div class="icon-container w-20 h-20 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-puzzle-piece text-3xl text-yellow-500"></i>
                    </div>
                    <h3 class="text-3xl font-semibold">File Assembly</h3>
                </div>
                <div id="detail-4" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-700 text-xl text-justify">Assembles the final `.md` file by formatting the SEO metadata into a YAML "frontmatter" block and prepending it to the Markdown article content.</p>
                </div>
            </div>

            <!-- Step 5 -->
            <div class="step-wrapper">
                <div id="step-5" class="timeline-step flex items-center gap-6 cursor-pointer" onclick="toggleDetails(5)">
                    <div class="icon-container w-20 h-20 bg-white rounded-full shadow-lg flex items-center justify-center border-4 border-gray-200 flex-shrink-0">
                        <i class="fas fa-rocket text-3xl text-red-500"></i>
                    </div>
                    <h3 class="text-3xl font-semibold">Publishing</h3>
                </div>
                <div id="detail-5" class="detail-panel ml-10 px-12 bg-white rounded-2xl shadow-md border border-gray-200">
                    <p class="text-gray-700 text-xl text-justify">The completed file is automatically placed in a Git repository. The script then runs `git add`, `commit`, and `push` to deploy the article to a live website via a hosting service like Vercel.</p>
                </div>
            </div>
        </div>
        
        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500">This interactive diagram demonstrates a modern, end-to-end content automation workflow.</p>
            <p class="mt-1">Explore the full source code on <a href="https://github.com/honcyeung/article-generator-with-llm" target="_blank" class="text-blue-600 hover:underline">GitHub</a>.</p>
        </footer>
    </div>

    <script>
        // This function toggles the detail panel for the selected step.
        function toggleDetails(stepNumber) {
            const targetPanel = document.getElementById('detail-' + stepNumber);
            const targetStep = document.getElementById('step-' + stepNumber);
            const isActive = targetPanel.classList.contains('active');

            // Hide all detail panels and remove active state from all steps
            document.querySelectorAll('.detail-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.querySelectorAll('.timeline-step').forEach(step => {
                step.classList.remove('active');
            });

            // If the clicked panel was not already active, open it.
            if (!isActive) {
                targetPanel.classList.add('active');
                targetStep.classList.add('active');
            }
        }

        // Initially show the first step's details
        document.addEventListener('DOMContentLoaded', () => {
            toggleDetails(1);
        });
    </script>

</body>
</html>
